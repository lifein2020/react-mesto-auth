{"version":3,"sources":["utils/Api.js","contexts/CurrentUserContext.js","images/kusto.jpg","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","components/Header/Header.js","images/logo.png","components/Card/Card.js","components/Main/Main.js","images/pen.png","components/Footer/Footer.js","components/Register/Register.js","components/Login/Login.js","components/InfoTooltip/InfoTooltip.js","components/ProtectedRoute/ProtectedRoute.js","utils/auth.js","images/success.svg","images/fail.svg","components/App/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","this","response","ok","json","Promise","reject","status","fetch","then","_getResponse","card_name","card_image_link","method","body","JSON","stringify","name","link","userName","userDescription","about","avatarUrl","avatar","id","like","authorization","CurrentUserContext","React","createContext","PopupWithForm","props","className","isOpen","type","onClick","onClose","title","action","autoComplete","onSubmit","children","button","titleButton","EditProfilePopup","onUpdateUser","useState","setUserName","setUserDescription","currentUser","useContext","useEffect","e","preventDefault","required","placeholder","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","urlInput","useRef","current","ref","AddPlacePopup","onAddPlace","cardName","setCardName","cardImage","setCardImage","ImagePopup","card","active","src","alt","Header","onSignOut","email","path","to","exact","Card","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","likeCounter","length","onCardClick","onCardDelete","onCardLike","Main","onEditAvatar","onEditProfile","cards","map","onLikeClick","onDeleteClick","Footer","Register","onRegister","userEmail","setUserEmail","userPassword","setUserPassword","password","Login","onLogin","InfoTooltip","message","image","text","ProtectedRoute","Component","component","loggedIn","BASE_URL","getResponse","App","isEditProfileOpen","setIsEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarOpen","setIsEditAvatarOpen","selectedCard","setIsSelectedCard","isPreviewPopupOpened","setIsPreviewPopupOpened","isInfoTooltipOpen","setIsInfoTooltipOpen","setMessage","handleAllPopupsClose","kusto","setCurrentUser","setCards","all","getUserInfo","getCardsList","userData","cardsArray","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","closeByOverlay","classList","contains","setLoggedIn","history","useHistory","authUser","jwt","token","res","data","localStorage","getItem","push","Provider","removeItem","changeLikeCardStatus","newCard","state","c","deleteCard","filter","auth","dataReg","statusCode","success","fail","finally","dataLog","setItem","patchUserInfo","dataProfile","postAddCard","patchAvatarUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5677da06.chunk.js","sourcesContent":["class Api {\n  constructor ({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  // Обработка ответа с сервера\n  _getResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  // Получение данных пользователя(моих)\n  getUserInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n\n  // Получение данных всех карточек\n  getCardsList() {\n    return fetch(this.baseUrl + 'cards', { // либо `${this.baseUrl}cards` и в результате конкатенации получается https://mesto.nomoreparties.co/v1/cohort-26/cards\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n\n  // Добавление карточек\n  postAddCard({ card_name, card_image_link }) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: card_name,\n        link: card_image_link\n      }),\n      headers: this.headers\n    }).then(this._getResponse);\n  }\n\n  // Редактирование профиля\n  patchUserInfo({userName, userDescription}) {\n    return fetch(this.baseUrl + 'users/me', { //`${this.baseUrl}users/me`\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: userName,\n        about: userDescription,\n      }),\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n  // Смена аватара\n  patchAvatarUser({ avatarUrl }) {\n    return fetch(this.baseUrl + 'users/me/avatar', { //`${this.baseUrl}users/me/avatar`\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: avatarUrl\n      }),\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n  // Удаление карточки\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n  // Поставить лайк\n  /*putLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n  // Удалить лайк:\n  //--------- 2 вариант рабочий----------\n  deliteLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }*/\n\n  //-------- 1 вариант рабочий---------\n  changeLikeCardStatus(id, like) {\n    return fetch(`${this.baseUrl}cards/likes/${id}`, {\n      method: like ? 'DELETE' : 'PUT', //если карточка уже лайкнута(черный лайк), то удалить лайк, иначе поставить\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n  headers: {\n    authorization: 'd11963a5-3631-4d4e-b873-aed64d959e3c',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n\n","import React from 'react';\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/kusto.91fa6d23.jpg\";","function PopupWithForm(props) { // ({ name, isOpen, onClose, title, id, onSubmit, children, button, titleButton })\n    return (\n        <div className={props.isOpen ? `popup popup_type_${props.name} popup_is-opened` : `popup popup_type_${props.name}`}>\n            <div className={`popup__container popup__container_${props.name}`}>\n                <button type=\"button\" className={`popup__close popup__close_${props.name}`}  onClick={props.onClose}></button>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form \n                    name={props.name} \n                    id={props.id} \n                    className={`popup__form popup__form_${props.name}`} \n                    action=\"#\" \n                    autoComplete=\"off\" \n                    //noValidate\n                    onSubmit={props.onSubmit}\n                >\n                    {props.children}\n                    <button type=\"submit\" className={`popup__button popup__${props.button}`}>{props.titleButton}</button>\n                </form>\n            </div>\n        </div>\n    );\n  }\n\n  export default PopupWithForm;\n","import {useState, useEffect} from 'react';\nimport React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser}) {\n\n    // управляемые компоненты (input)\n    const [userName, setUserName] = useState(''); \n    function handleChangeName(e) {\n        setUserName(e.target.value);\n    }\n    const [userDescription, setUserDescription] = useState(''); \n    function handleChangeDescription(e) {\n        setUserDescription(e.target.value);\n    }\n\n    //Чтобы подставить в форму текущие значения:\n    //1. подписываемся на контекст\n    const currentUser = React.useContext(CurrentUserContext); \n\n    //2. после загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\n    useEffect(() => {\n        setUserName(currentUser.name);\n        setUserDescription(currentUser.about);\n    }, [currentUser, isOpen]); //Нужно еще следить за isOpen (за состоянием открытия), чтобы вставлять в инпуты данные пользователя, иначе, если мы удалим информацию из инпутов и просто закроем попап, то при следующем открытии инпуты будут пустые (без данных пользователя)\n\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdateUser({ userName, userDescription });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"edit\"\n            id=\"formEdit\"\n            title=\"Редактировать профиль\"\n            button=\"save\"\n            titleButton=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n            type=\"text\"\n            className=\"popup__input popup__input_user_name\"\n            id=\"name-input\"\n            name=\"name\"\n            required\n            placeholder=\"Имя\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={userName}\n            onChange={handleChangeName}\n            />\n            <span\n            className=\"popup__error name-input-error\"\n            >\n            </span>\n            <input\n            type=\"text\"\n            className=\"popup__input popup__input_user_job\"\n            id=\"job-input\"\n            name=\"job\"\n            required\n            placeholder=\"Род занятий\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={userDescription}\n            onChange={handleChangeDescription}\n            />\n            <span\n            className=\"popup__error job-input-error\"\n            >\n            </span>\n        </PopupWithForm>  \n    )\n}\n\nexport default EditProfilePopup;\n\n\n\n\n","import { useRef, useEffect } from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\n    const urlInput = useRef();\n\n    //устанавливаем в поле ввода ссылку по умолчанию при открытии попапа\n    useEffect(() => {\n        const currentUrlInput = urlInput.current;\n        currentUrlInput.value = '';\n    }, [isOpen]) \n\n    function handleSubmit(e) {\n        e.preventDefault();\n    \n        onUpdateAvatar({\n          avatarUrl: urlInput.current.value /* значение инпута, полученное с помощью рефа*/\n        });\n        // очищаем инпут после успешного добавления информации\n        urlInput.current.value = '';\n      } \n\n    return (\n        <PopupWithForm\n            name=\"avatar\"\n            id=\"formAvatar\"\n            title=\"Обновить аватар\"\n            button=\"save\"\n            titleButton=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n            type=\"url\"\n            className=\"popup__input popup__input_avatar_link\"\n            id=\"avatar-link-input\"\n            name=\"avatar_link\"\n            autoComplete=\"on\"\n            required\n            placeholder=\"Ссылка на аватар\"\n            //value=\"https://somewebsite.com/someimage.jpg\"\n            ref={urlInput}\n            />\n            <span\n            className=\"popup__error avatar-link-input-error\"\n            >\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;\n\n","import {useState} from 'react';\nimport React from 'react'\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n    // управляемые компоненты (input)\n    const [cardName, setCardName] = useState('');\n    function handleChangeCardName(e) {\n        setCardName(e.target.value);\n    }\n\n    const [cardImage, setCardImage] = useState('');\n    function handleChangeCardImage(e) {\n        setCardImage(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onAddPlace({\n            card_name: cardName, \n            card_image_link : cardImage,\n        });\n        // очищаем инпуты после успешного добавления информации\n        setCardName('');\n        setCardImage('');\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add-card\"\n            id=\"formAdd\"\n            title=\"Новое место\"\n            button=\"button_disabled\"\n            titleButton=\"Создать\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                type=\"text\"\n                className=\"popup__input popup__input_card_name\"\n                id=\"card-name-input\"\n                name=\"card_name\"\n                autoComplete=\"off\"\n                required\n                placeholder=\"Название\"\n                minLength=\"2\"\n                maxLength=\"30\"\n                value={cardName}\n                onChange={handleChangeCardName}\n            />\n            <span\n                className=\"popup__error card-name-input-error\"\n            >\n            </span>\n            <input\n                type=\"url\"\n                className=\"popup__input popup__input_card_image-link\"\n                id=\"card-image-link-input\"\n                name=\"card_image_link\"\n                autoComplete=\"on\"\n                required\n                placeholder=\"Ссылка на картинку\"\n                value={cardImage}\n                onChange={handleChangeCardImage}\n            />\n            <span\n                className=\"popup__error card-image-link-input-error\"\n            >\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;\n\n","function ImagePopup({card, onClose, active}) {\n    return (\n        <div className={(card && active)? \"popup popup_type_image popup_is-opened\" : \"popup popup_type_image\"}>\n            <div className=\"popup__container-image\">\n                <button type=\"button\" className=\"popup__close popup__close_image\" onClick={onClose}></button>\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\n                <h2 className=\"popup__title-image\">{card.name}</h2>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","import logo from '../../images/logo.png';\nimport { Route, Link } from 'react-router-dom';\n\nfunction Header({ onSignOut, email }) {\n\n    function handleSignOut() {\n        onSignOut();\n    }\n\n    return (\n        <header className=\"header\">\n            <img src={logo} className=\"header__logo\" alt=\"Лототип проекта Место\" />\n            <Route path=\"/sign-up\">\n                <Link className=\"header__sign-link\" to=\"sign-in\">Войти</Link>\n            </Route>\n            <Route path=\"/sign-in\">\n                <Link className=\"header__sign-link\" to=\"sign-up\">Регистрация</Link>\n            </Route>\n            <Route exact path=\"/\">\n                <div className=\"header__container\">\n                    <p className=\"header__user-email\">{ email }</p>\n                    <button className=\"header__logout\" onClick={handleSignOut}>Выйти</button>\n                </div>\n            </Route>\n        </header>\n    );\n}\n    \nexport default Header;\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAAAhCAMAAAA4aWMBAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAIJ9AgN+/72CQEAEwz69BcFBvIc9UfgAAAwBJREFUWMPFl4tu6yAMhm3A3BJoSN7/XU/cAiZbtImzqfulrIlXw4cvhML7tFprs4c7mQxv18NpXUjDjXCFt+tBALApMAh8RaM8B0YFhFIAdr55kwQnLFbDeS0p6GyWELTJYAyYXLyL8D49nPeBsOE4jsWSN4B44vDfJb0jZ4JjjGOU11UoBYSVSCHjrIrS+V/Qpz5RrWyNv58skxsOTxIsl/FGJ85CLysep9xHV2Ir/j5OdHpRAR6HXizCbpeMgIzDuVuPinN+XuSPeRw0xuiv951XZ2FySmkwiU6iQkQe9h08kVUNx1497X/g6NPDwA9VcY71avtjnOtA6s9xLjsQ/S2OO6/tWshuxEHDgEmNfDqwjZQGVrQ28aO11nen9HTS0zjKXYo58TQDzn40qRbDmAebxFjSvoRuyDiLY8ZeX8+HMOCoQ5RiIxbZG5xldCKcxIlMMBYyCg6jOrPi6ql/y/Mk+4n2tHmAqPXGA2mtsTrxU3VKkzhguZjFkKHjoCwPqQXRdljseX60yLRgaXEykzhaiplXXgRHDXnULTx0IlZb8Wv8iLOoet/sbhIHXA1pnUpwaKxyWzHoZhsYcdywcyyWFzSJ04uZI+AFZ72Emtsl1k/yeItTnTI0bRz5SZzoniNUDsFhumSbWlTQHaykPN7hlHorcGoSBzIvvD0Kjj9Ew16tqbe+/4zjL/HAaRzZ43kk/T0OoOlANn6Pk2dxnr3eCllwyrOU7j1LsE+efJesIFmcjk6rOF1nFxyUkW+9DfPEjiNj2h+V8quYba4U0uhs/cq/tvGvNnrv4vYgOGEczGZTnmduRc2WR5xQCcKHHZpgHkcP58LrS8LVdjZD2aco7wBs/WzHl4SXL/hJHDkhJxAcCZrSiMX2xuIpqCDgTt09OjaagBye6rRq4yQ4kzibrAluDxg9BasbTCSxY20/P2BAXx/BFUfmYbnSdlrqNosgFSODiZOd+fkYlVIttV6pTW5V7Mi7ZdK8DwP7nE68FDSItEqUzOjkKGiY0D+3WkqFJF6wAgAAAABJRU5ErkJggg==\"","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    //Подписываемся на контекст CurrentUserContext\n    const currentUser = React.useContext(CurrentUserContext);\n\n    //Показать иконку удаления:\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = props.card.owner._id === currentUser._id;\n\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n     `element__trash ${isOwn ? 'element__trash_visible' : 'element__trash'}` \n    ); \n  \n    // Определить, поставили ли мы уже «лайк» этой карточке:\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = (\n        `element__like ${isLiked ? 'element__like_active' : 'element__like'}`\n    );    \n\n    const likeCounter =  props.card.likes.length;\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n      } \n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n            <article className=\"element\">\n                <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick} />\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n                <div className=\"element__text\">\n                    <h2 className=\"element__title\">{props.card.name}</h2>\n                    <div className=\"element__group\">\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                        <div className=\"element__count\">{likeCounter}</div>\n                    </div>\n                </div>\n            </article>\n    );\n}\n    \nexport default Card;\n\n","import React from 'react';\nimport pen from '../../images/pen.png';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return(\n        <main className=\"content\">\n            <nav className=\"profile\">\n                <div className=\"profile__container\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\n                    <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\n                        <img className=\"profile__pen\" src={pen} alt=\"Карандаш\" />\n                    </div>\n                </div>\n                <div className=\"profile-info\">\n                    <div className=\"profile-info__container\">\n                        <h1 className=\"profile-info__name\">{currentUser.name}</h1>\n                        <button className=\"profile-info__edit-button\" type=\"button\" name=\"send\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile-info__activity\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n            </nav>\n\n            <section className=\"elements\">\n                {props.cards.map(card => {\n                        return (\n                            <Card \n                                key={card._id} \n                                card={card} \n                                onCardClick={props.onCardClick} \n                                onCardLike={props.onLikeClick} \n                                onCardDelete={props.onDeleteClick}\n                            />\n                        )\n                    })}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;\n\n\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAJ1BMVEUAAAD///////////////////////////////////////////////+uPUo5AAAADHRSTlMAMO/fIBDPwJBvQH+Dp3+dAAAAPklEQVQI12OAAfEAGItRJxXGFDpzHC54RhEueEiAAkFnuCCLDbGCDGFwQU7WJJjgmg2BMIf2nIR7pGIBjAUAta0Z8ZQ5LvMAAAAASUVORK5CYII=\"","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <h3 className=\"footer__title\">&copy; 2020 Mesto Russia</h3>\n        </footer>\n       \n        \n    );\n}\n    \nexport default Footer;\n\n\n/* Показывать только на главной странице\nimport { Route } from 'react-router-dom';\n\nfunction Footer() {\n    return (\n        <Route path=\"/\">\n            <footer className=\"footer\">\n                <h3 className=\"footer__title\">&copy; 2020 Mesto Russia</h3>\n            </footer>\n        </Route>\n        \n    );\n}\n\nВ App.js при этом:\n{loggedIn && <Footer />} \n */","import {useState} from 'react';\nimport { Route, Link } from 'react-router-dom';\n\nfunction Register({onRegister}) {\n\n    const [userEmail, setUserEmail] = useState('');\n    function handleChangeUserEmail(e) {\n        setUserEmail(e.target.value);\n    }\n\n    const [userPassword, setUserPassword] = useState('');\n    function handleChangeUserPassword(e) {\n        setUserPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onRegister(\n            {\n                password: userPassword, \n                email: userEmail\n            }\n        );\n        setUserEmail('');\n        setUserPassword('');\n    }\n\n    return(\n        <div className=\"form\">\n        <h2 className=\"form__title\">Регистрация</h2>\n        <form \n            onSubmit={handleSubmit}\n        >\n            <input \n                type=\"email\"\n                className=\"form__input\"\n                id=\"email-input\"\n                name=\"email\"\n                autoComplete=\"on\"\n                required\n                placeholder=\"Email\"\n                value={userEmail}\n                onChange={handleChangeUserEmail}\n            />\n            <input \n                type=\"password\"\n                className=\"form__input\"\n                id=\"password-input\"\n                name=\"password\"\n                autoComplete=\"off\"\n                required\n                placeholder=\"Пароль\"\n                value={userPassword}\n                onChange={handleChangeUserPassword}\n            ></input>\n            <button type=\"submit\" className=\"form__button\">Зарегистрироваться</button>\n        </form>\n        <Route path=\"/sign-up\">\n            <div className=\"form__link\">\n                <Link className=\"form__link_sign\" to=\"sign-in\">Уже зарегистрированы? Войти</Link>\n            </div>\n        </Route>\n    </div>\n        \n    )\n}\n\nexport default Register;\n\n/*<button className=\"form__login\">Уже зарегистрированы? Войти</button> */\n","import {useState} from 'react';\n\nfunction Login({onLogin}) {\n\n    const [userEmail, setUserEmail] = useState('');\n    function handleChangeUserEmail(e) {\n        setUserEmail(e.target.value);\n    }\n\n    const [userPassword, setUserPassword] = useState('');\n    function handleChangeUserPassword(e) {\n        setUserPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onLogin(\n            {\n                password: userPassword, \n                email: userEmail\n            }\n        );\n        setUserEmail('');\n        setUserPassword('');\n    }\n\n    return(\n        <div className=\"form\">\n            <h2 className=\"form__title\">Вход</h2>\n            <form onSubmit={handleSubmit}>\n                <input \n                    type=\"email\"\n                    className=\"form__input\"\n                    id=\"email-input\"\n                    name=\"email\"\n                    autoComplete=\"on\"\n                    required\n                    placeholder=\"Email\"\n                    value={userEmail}\n                    onChange={handleChangeUserEmail}\n                />\n                <input \n                    type=\"password\"\n                    className=\"form__input\"\n                    id=\"password-input\"\n                    name=\"password\"\n                    autoComplete=\"off\"\n                    required\n                    placeholder=\"Пароль\"\n                    value={userPassword}\n                    onChange={handleChangeUserPassword}\n                ></input>\n                <button type=\"submit\" className=\"form__button\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login","function InfoTooltip({ isOpen, onClose, message }) {\n    return (\n        <div className={isOpen ? `popup popup_type_infoTooltip popup_is-opened` : `popup popup_type_infoTooltip`}>\n            <div className=\"popup__container popup__container_infoTooltip\">\n                <button type=\"button\" className=\"popup__close popup__close_infoTooltip\" onClick={onClose}></button>\n                <img className=\"popup__container_image\" src={message.image} alt={message.image}/>\n                <h2 className=\"popup__title_sign\">{message.text}</h2>\n            </div>\n        </div>\n    )\n} \n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route exact>\n            {\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n            }\n        </Route>\n    )\n};\n\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\n//Проверка ответ от сервера\nconst getResponse = (response) => {\n    if (response.ok) {\n        return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n}\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({password: password, email: email})\n    })\n    .then(getResponse);\n}   \n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({password, email})\n    })\n    .then(getResponse);\n};\n\n//Проверка токена\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`,\n        }\n    })\n    .then(getResponse);\n};\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import { useState, useEffect } from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useHistory\n} from 'react-router-dom';\nimport api from '../../utils/Api';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport kusto from '../../images/kusto.jpg';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport EditProfilePopup from '../EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../AddPlacePopup/AddPlacePopup';\nimport ImagePopup from '../ImagePopup/ImagePopup';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport * as auth from '../../utils/auth.js';\nimport success from '../../images/success.svg';\nimport fail from '../../images/fail.svg';\n\n\nfunction App() {\n\n  //Для компонента Main:\n  const [isEditProfileOpen, setIsEditProfileOpen] = useState(false);\n  const handleEditProfileClick = () => {\n    setIsEditProfileOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const [isEditAvatarOpen, setIsEditAvatarOpen] = useState(false);\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarOpen(true);\n  }\n\n  const [selectedCard, setIsSelectedCard] = useState({});\n  const [isPreviewPopupOpened, setIsPreviewPopupOpened] = useState(false);\n  function onCardClick(card) {\n    setIsSelectedCard(card);\n    setIsPreviewPopupOpened(true);\n  }\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [message, setMessage] = useState({image: \"\", text: \"\"});\n\n  //Для компонентов папапов\n  const handleAllPopupsClose = () => {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarOpen(false);\n    setIsSelectedCard({});\n    setIsPreviewPopupOpened(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  //Для компонента Main, чтобы потом перебросить в Card через props:\n  //1.\n  const [currentUser, setCurrentUser] = useState({name: 'Жак-Ив Кусто', about: 'Исследователь океана', avatar: kusto});\n  const [cards, setCards] = useState([]);\n  //2.\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCardsList()])\n    .then(([userData, cardsArray]) => {\n      setCurrentUser({\n        name: userData.name, \n        about: userData.about, \n        avatar: userData.avatar,\n        _id: userData._id,\n      });\n      setCards(cardsArray);\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }, []);\n\n  //3.\n  const handleCardLike = (card) => {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  //4.\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n    .then(() => {\n        setCards((state) =>  state.filter((c) => c._id !== card._id));\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  //Для компонента EditProfilePopup\n  const handleUpdateUser = ({userName, userDescription}) => {\n    // отправляем значения инпутов(то, что ввели)\n    api.patchUserInfo({userName, userDescription}) \n    .then((dataProfile) => {\n      setCurrentUser({\n        name: dataProfile.name, \n        about: dataProfile.about,\n        avatar: dataProfile.avatar, // чтобы аватар тоже отображался \n        _id: dataProfile._id, //чтобы лайки проставлялись после обновления профиля\n      });\n      //handleAllPopupsClose();\n    })\n    .then(() => {\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    }) \n  }\n\n  //Для компонента EditAvatarPopup\n  const handleUpdateAvatar = ({ avatarUrl }) => {\n    //отправляем то, что ввели в инпут\n    api.patchAvatarUser({ avatarUrl })\n    .then((dataProfile) => {\n      setCurrentUser({\n        avatar: dataProfile.avatar,\n        //чтобы данные профиля тоже отображались \n        name: dataProfile.name, \n        about: dataProfile.about,\n        _id: dataProfile._id,\n      });\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  //Для компонента AddPlacePopup\n  function handleAddPlaceSubmit({ card_name, card_image_link }) {\n    api.postAddCard({ card_name, card_image_link })\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        handleAllPopupsClose();\n      }\n    }\n    document.addEventListener('keydown', closeByEscape)\n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  useEffect(() => {\n    const closeByOverlay = (e) => {\n      if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) {\n        handleAllPopupsClose();\n      }\n    }\n    document.addEventListener('click', closeByOverlay)\n    return () => document.removeEventListener('click', closeByOverlay)\n\n  }, [])\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('email');\n  const history = useHistory();\n  \n\n  const authUser = (jwt) => {\n    return auth.getContent(jwt)\n    .then((res) => {\n      console.log(res);\n      if (res) {\n        setLoggedIn(true);\n        setUserEmail(res.data.email);\n      }\n    })\n    .catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      authUser(jwt);\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n    }\n  }, [loggedIn, history]);\n\n  const handleRegister = ({ password, email }) => {\n    return auth.register(password, email)\n    .then(dataReg => {\n      if (dataReg.data._id || dataReg.statusCode !== 400) {\n        setUserEmail(dataReg.data.email);\n        history.push('/sign-in');\n        setMessage({ image: success, text: 'Вы успешно зарегистрировались!' });\n      } else {\n        return\n      }\n    })\n    .catch(err => {\n      console.log(err);\n      setMessage({ image: fail, text: 'Что-то пошло не так! Попробуйте ещё раз.' });\n    })\n    .finally(() => {\n      setIsInfoTooltipOpen(true);\n    })\n  };\n\n  const handleLogin = ({ password, email }) => {\n    return auth.authorize(password, email)\n    .then(dataLog => {\n      if (dataLog.token || dataLog.statusCode === 200) {\n        setLoggedIn(true);\n        localStorage.setItem('jwt', dataLog.token);\n        history.push('/');\n        setUserEmail(email);\n      } else {\n        setIsInfoTooltipOpen(true);\n        setMessage({ image: fail, text: 'Что-то пошло не так! Попробуйте ещё раз.' });\n      }\n    })\n    .catch(err => console.log(err));\n  };\n\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/login');\n  }\n\n  return (\n    <>\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header \n              onSignOut={onSignOut}\n              email={userEmail}\n          />\n          <Switch>\n            <ProtectedRoute \n              exact \n              path=\"/\" \n              loggedIn={loggedIn} \n              component={Main} \n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              cards={cards}\n              onCardClick={onCardClick}\n              onLikeClick={handleCardLike}\n              onDeleteClick={handleCardDelete}\n            />\n            <Route path=\"/sign-up\">\n              <Register onRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleLogin} />\n            </Route>\n            <Route>\n            {loggedIn ? <Redirect to=\"/sign-in\" /> : <Redirect to=\"/sign-up\" />}\n            </Route>\n          </Switch>\n\n          <Footer />\n          \n          <EditProfilePopup\n          isOpen={isEditProfileOpen}\n          onClose={handleAllPopupsClose}\n          //currentUser={currentUser}\n          onUpdateUser={handleUpdateUser}\n          >\n          </EditProfilePopup>\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleAllPopupsClose}\n            onAddPlace={handleAddPlaceSubmit}\n          >\n          </AddPlacePopup>\n\n          <PopupWithForm\n            name=\"confirm\"\n            id=\"formConfirm\"\n            title=\"Вы уверены?\"\n            button=\"button_confirm popup__save\"\n            titleButton=\"Да\"\n            onClose={handleAllPopupsClose}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarOpen}\n            onClose={handleAllPopupsClose}\n            onUpdateAvatar={handleUpdateAvatar}\n          >\n          </EditAvatarPopup>\n\n          <ImagePopup card={selectedCard}\n            onClose={handleAllPopupsClose}\n            active={isPreviewPopupOpened}\n          />\n\n          <InfoTooltip \n            isOpen={isInfoTooltipOpen}\n            onClose={handleAllPopupsClose}\n            message={message}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n\n\n\n\n\n\n\n//basename=\"/\""],"sourceRoot":""}